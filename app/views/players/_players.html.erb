<%= hidden_field_tag :direction, params[:direction] %>
<%= hidden_field_tag :sort, params[:sort] %>

<table class="table table-striped table-bordered table-condensed">
	<thead><tr>
		<th><%= sortable "name" %></th>
		<th><%= sortable "team_id" %></th>
		<th><%= sortable "points" %></th>
		<th><%= sortable "goals" %></th>
		<th><%= sortable "assists" %></th>	
		<th><%= sortable "yellow" %></th>
		<th><%= sortable "red" %></th>		
	</tr></thead >

<% for player in @players %>
	<% if !params[:round].nil? && params[:round].size
		player_stats = player.player_stats.find(:all, :conditions => ["player_id LIKE ? AND round LIKE ?", player.id, params[:round]]).first;
		%>
	<tbody><tr>
		<td><%= link_to player.name, player_path(player)  %></td>
		<td><%= Team.find(player.team_id).name %></td>
		<td><%= player_stats.points %></td>
		<td><%= player_stats.goals %></td>
		<td><%= player_stats.assists %></td>
		<td><%= player_stats.yellow %></td>
		<td><%= player_stats.red %></td>
	</tr></tbody>
	<% end %>
<% end %>

</table>

<%= will_paginate @players %>